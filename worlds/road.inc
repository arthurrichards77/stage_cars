# roads library
# generated by "make_roads.py"

# basic tile - green square

define road_tile model
(
  size [20.000000 20.000000 0.01]
  color "green"
  obstacle_return 0
)

# basic road material - grey

define road model
(
  color "gray"
  obstacle_return 0
)

# tile with straight road only

define road_straight road_tile
(
  road
  (
    size [20.000000 6.000000 0.01]
  )
)

# tile with 90deg bend

define road_bend road_tile
(
  road
  (
    size [13.000000 13.000000 0.01]
    pose [-3.500000 3.500000 0 270]
    block
    (
      points 4
      point[0] [1.000000 0.000000]
      point[1] [0.538462 0.000000]
      point[2] [0.531832 0.084234]
      point[3] [0.987688 0.156434]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.987688 0.156434]
      point[1] [0.531832 0.084234]
      point[2] [0.512107 0.166394]
      point[3] [0.951057 0.309017]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.951057 0.309017]
      point[1] [0.512107 0.166394]
      point[2] [0.479773 0.244456]
      point[3] [0.891007 0.453990]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.891007 0.453990]
      point[1] [0.479773 0.244456]
      point[2] [0.435625 0.316500]
      point[3] [0.809017 0.587785]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.809017 0.587785]
      point[1] [0.435625 0.316500]
      point[2] [0.380750 0.380750]
      point[3] [0.707107 0.707107]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.707107 0.707107]
      point[1] [0.380750 0.380750]
      point[2] [0.316500 0.435625]
      point[3] [0.587785 0.809017]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.587785 0.809017]
      point[1] [0.316500 0.435625]
      point[2] [0.244456 0.479773]
      point[3] [0.453990 0.891007]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.453990 0.891007]
      point[1] [0.244456 0.479773]
      point[2] [0.166394 0.512107]
      point[3] [0.309017 0.951057]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.309017 0.951057]
      point[1] [0.166394 0.512107]
      point[2] [0.084234 0.531832]
      point[3] [0.156434 0.987688]
      z [0 1.0]
    )
    block
    (
      points 4
      point[0] [0.156434 0.987688]
      point[1] [0.084234 0.531832]
      point[2] [0.000000 0.538462]
      point[3] [0.000000 1.000000]
      z [0 1.0]
    )
  )
)

# this one does a T junction

define road_turnout road_straight
(
  # side road
  road
  (
    size [6.000000 4.000000 0.01]
    pose [0 8.000000 0 0]
  )
  road
  (
    size [12.000000 3.000000 0.01]
    pose [0 4.500000 0 0]
    block
  (
    points 4
      point[0] [0.250000 1.000000]
      point[1] [0.750000 1.000000]
      point[2] [0.753078 0.960891]
      point[3] [0.246922 0.960891]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.246922 0.960891]
      point[1] [0.753078 0.960891]
      point[2] [0.762236 0.922746]
      point[3] [0.237764 0.922746]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.237764 0.922746]
      point[1] [0.762236 0.922746]
      point[2] [0.777248 0.886502]
      point[3] [0.222752 0.886502]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.222752 0.886502]
      point[1] [0.777248 0.886502]
      point[2] [0.797746 0.853054]
      point[3] [0.202254 0.853054]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.202254 0.853054]
      point[1] [0.797746 0.853054]
      point[2] [0.823223 0.823223]
      point[3] [0.176777 0.823223]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.176777 0.823223]
      point[1] [0.823223 0.823223]
      point[2] [0.853054 0.797746]
      point[3] [0.146946 0.797746]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.146946 0.797746]
      point[1] [0.853054 0.797746]
      point[2] [0.886502 0.777248]
      point[3] [0.113498 0.777248]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.113498 0.777248]
      point[1] [0.886502 0.777248]
      point[2] [0.922746 0.762236]
      point[3] [0.077254 0.762236]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.077254 0.762236]
      point[1] [0.922746 0.762236]
      point[2] [0.960891 0.753078]
      point[3] [0.039109 0.753078]
      z [0 1.0]
  )
    block
  (
    points 4
      point[0] [0.039109 0.753078]
      point[1] [0.960891 0.753078]
      point[2] [1.000000 0.750000]
      point[3] [0.000000 0.750000]
      z [0 1.0]
  )
  )
)


